<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="https://stagekeep.com/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://stagekeep.com/css/animate.css">
		<link rel="stylesheet" href="https://stagekeep.com/css/main.css">
		<link rel="stylesheet" href="https://stagekeep.com/static/css/main.65027555.css">
		<link rel="shortcut icon" type="image/x-icon" href="https://stagekeep.com/icon/favicon.ico"/>
		<title>Signup for StageKeep</title>
	</head>
	<body>
		<div id="root">
			<div class="App">
				<div>
					<div>
						<div id="navbar" class="stagekeep-bg">
							<div class="container">
								<div class="row">
									<div class="navbar-header">
										<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".collapse2">
											<span class="icon-bar">
											</span>
											<span class="icon-bar">
											</span>
											<span class="icon-bar">
											</span>
										</button>
										<img class="logo-nav" src="https://stagekeep.com/img/header-logo.png" alt="StageKeep logo" title="StageKeep logo">
									</div>
								</div>
							</div>
						</div>
						<div class="login-page">
							<div class="row row-grid">
								<div class="col-md-4 col-lg-6 col-sm-12 col-md-offset-4 col-lg-offset-3 login-group">
									<h2>Sign Up</h2>
									<p>It's your move. Start creating something great.</p>
									<form class="login-form" action="javascript:signup();">
										<div class="row row-grid">
											<div class="col-lg-6 col-md-6">
												<label>
													<input class="login-field" autocomplete="given-name" placeholder="First Name" type="text" name="first_name" value="">
												</label>
											</div>
											<div class="col-lg-6 col-md-6">
												<label>
													<input class="login-field" autocomplete="family-name" placeholder="Last Name" type="text" name="last_name" value="">
												</label>
											</div>
										</div>
										<label>
											<input class="login-field" autocomplete="email" placeholder="Email" type="text" name="email" value="">
										</label>
										<div class="row row-grid">
											<div class="col-lg-8 col-md-8">
												<label>
													<input class="login-field" autocomplete="username" placeholder="Username" type="text" name="username" value="">
												</label>
											</div>
											<div class="col-lg-4 col-md-4">
												<label>
													<input class="login-field" autocomplete="no" type="text" name="initials" placeholder="Initials" value="">
												</label>
											</div>
										</div>
										<label>
											<input class="login-field" autocomplete="password" placeholder="Password" type="password" name="password" value="">
										</label>
										<label>
											<input class="login-field" autocomplete="no" type="password" placeholder="Confirm Password" name="confirm" value="">
										</label>
										<label>
											<input class="login-field" autocomplete="no" type="password" placeholder="Invite Code" name="invite_code" value="">
										</label>
										<div id="error" class="alert alert-danger" style="display: none">Error</div>
										<div id="success" class="alert alert-success" style="display: none">
											You've signed up for StageKeep, please return to the app.
										</div>
										<div class="g-recaptcha" data-sitekey="6LcCpGoUAAAAAPWsd5q7zbNfpXCxRRSrqRoBpDOo"></div>
										<input type="submit" class="login-button" name="signup" value="Sign Up">
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
				<footer>
					<div class="container">
						<div class="row">
							<div class="col-sm-8 margin-20">
								<ul class="list-inline social">
									<li>
										Connect with us on</li>
									<li>
										<a href="https://instagram.com/stagekeep" target="_blank" rel="noopener noreferrer">
											<i class="fa fa-instagram">
											</i>
										</a>
									</li>
									<li>
										<a href="https://facebook.com/stagekeep" target="_blank" rel="noopener noreferrer">
											<i class="fa fa-facebook">
											</i>
										</a>
									</li>
									<li>
										<a href="https://twitter.com/stagekeep" target="_blank" rel="noopener noreferrer">
											<i class="fa fa-twitter">
											</i>
										</a>
									</li>
									<li>
										<a href="mailto:info@stagekeep.com" target="_blank" rel="noopener noreferrer">
											<i class="fa fa-envelope">
											</i>
										</a>
									</li>
								</ul>
							</div>
							<div class="col-sm-4 text-right">
								<p>
								<small>2018 StageKeep Inc.</small>
								<br>
								</p>
							</div>
						</div>
					</div>
				</footer>
			</div>
		</div>
	</body>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" type="text/javascript"></script>
	<script src="https://use.fontawesome.com/7baac0e65a.js" type="text/javascript"></script>
	<script src="https://stagekeep.com/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="https://www.google.com/recaptcha/api.js" type="text/javascript"></script>
	<script type="text/javascript">
		function error(error_msg) {
			var error_obj = $("#error");
			if (error_msg !== "") {
				error_obj.html(error_msg);
				error_obj.show();
			} else {
				error_obj.hide();
			}
		}

		function signup() {
			if ($("input[name=password]").val() !== $("input[name=confirm]").val()) {
				error("The passwords do not match");
				return;
			}
			$.ajax({
				url: "https://api.stagekeep.com/signup/",
				data: JSON.stringify({
					first_name: $("input[name=first_name]").val(),
					last_name: $("input[name=last_name]").val(),
					email: $("input[name=email]").val(),
					username: $("input[name=username]").val(),
					initials: $("input[name=initials]").val(),
					password: $("input[name=password]").val(),
					invite_code: $("input[name=invite_code]").val(),
					captcha: $("#g-recaptcha-response").val(),
				}),
				contentType: 'application/json',
				type: 'POST',
			})
			.success(function() {
				$("#success").show();
			})
			.fail(function(error_detail) {
				error(error_detail.responseJSON.detail);
			});
		}
	</script>
</html>
